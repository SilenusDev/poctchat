<div class="conversations-container">
  <div class="conversations-card" *ngIf="!isLoading">
    <!-- Titre de l'interface -->
    <div class="interface-header">
      <h2 class="interface-title">
        <span *ngIf="me?.role === 'CLIENT'">Interface Utilisateur</span>
        <span *ngIf="me?.role === 'ADMIN'">Interface Administratif</span>
      </h2>
    </div>
    
    <!-- Profil utilisateur -->
    <div class="user-profile">
      <div class="user-info">
        <h3 class="user-name">{{ me?.username }}</h3>
        <p class="user-email">{{ me?.email }}</p>
        <small class="user-date">CrÃ©Ã© le {{ me?.createdAt | date:'dd/MM/yyyy' }}</small>
      </div>
      <div class="support-action" *ngIf="me?.role !== 'ADMIN'">
        <button class="support-button" (click)="contactSupport()">
          <span>Contacter le support</span>
        </button>
      </div>
    </div>

    <!-- SÃ©parateur -->
    <div class="divider"></div>

    <!-- Liste des conversations -->
    <div class="conversations-section">
      <h4 class="section-title">Mes conversations</h4>
      <div class="conversations-grid">
        <div 
          *ngFor="let c of conversations" 
          class="conversation-card" 
          (click)="openConversation(c)"
        >
          <div class="conversation-header">
            <div class="conversation-id">Conv. #{{ c.id }}</div>
            <div class="conversation-date">{{ c.createdAt | date:'dd/MM/yyyy HH:mm' }}</div>
          </div>
          <div class="conversation-participants">
            <div class="participant">{{ getOtherUserDisplayName(c) }}</div>
            <div class="conversation-status">
              <span class="status-indicator"></span>
              <span class="status-text">Active</span>
            </div>
          </div>
        </div>
      </div>
      
      <div *ngIf="conversations.length === 0" class="empty-state">
        <div class="empty-icon">ðŸ’¬</div>
        <p>Aucune conversation pour le moment</p>
        <small>Contactez le support pour commencer une conversation</small>
      </div>
    </div>
  </div>

  <div *ngIf="isLoading" class="loading-state">
    <div class="loading-spinner"></div>
    <p>Chargement de vos conversations...</p>
  </div>
</div>


